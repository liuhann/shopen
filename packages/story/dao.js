const bson = require('bson')class StoryDAO {  constructor () {    this.mongodb = null  }  async getTopAlbums () {    const db = await this.getStoryDb()    return db.collection('albums').find({      'home': 'true'    }).toArray()  }  async sampleDocs () {    const db = await this.getStoryDb()    const samples = await db.collection('stories').aggregate([{      $sample: {        size: 10      }    }]).toArray()    return samples  }  async getStoryById (id) {    const db = await this.getStoryDb()    const story = await db.collection('stories').findOne({      '_id': new bson.ObjectID(id)    })    return story  }  async deleteStoryById (id) {    const db = await this.getStoryDb()    await db.collection('stories').deleteOne({      '_id': new bson.ObjectID(id)    })  }  async getStoryDb () {    return this.mongodb.getDb('ybstory')  }  async increaseStoryMarkByName (id, markName) {    const db = await this.getStoryDb()    const incObject = {}    incObject[markName] = 1    await db.collection('stories').findOneAndUpdate({      '_id': new bson.ObjectID(id)    }, {      $inc: incObject    })  }}module.exports = StoryDAO