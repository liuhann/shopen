webpackJsonp([4],{"+qJp":function(t,e){},"86jz":function(t,e,i){(function(e){var i;i=function(){"use strict";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var t,i=(function(t,e){var i;i=function(){return{drawImage:function(t,e,i,n,a,s){if(!/^[1-8]$/.test(e))throw new Error("orientation should be [1-8]");null==i&&(i=0),null==n&&(n=0),null==a&&(a=t.width),null==s&&(s=t.height);var o=document.createElement("canvas"),r=o.getContext("2d");switch(o.width=a,o.height=s,r.save(),+e){case 1:break;case 2:r.translate(a,0),r.scale(-1,1);break;case 3:r.translate(a,s),r.rotate(1*Math.PI);break;case 4:r.translate(0,s),r.scale(1,-1);break;case 5:o.width=s,o.height=a,r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:o.width=s,o.height=a,r.rotate(.5*Math.PI),r.translate(0,-s);break;case 7:o.width=s,o.height=a,r.rotate(1.5*Math.PI),r.translate(-a,s),r.scale(1,-1);break;case 8:o.width=s,o.height=a,r.translate(0,a),r.rotate(1.5*Math.PI)}return r.drawImage(t,i,n,a,s),r.restore(),o}}},t.exports=i()}(t={exports:{}},t.exports),t.exports),n={onePointCoord:function(t,e){var i=e.canvas,n=e.quality,a=i.getBoundingClientRect(),s=t.clientX,o=t.clientY;return{x:(s-a.left)*n,y:(o-a.top)*n}},getPointerCoords:function(t,e){var i=void 0;return i=t.touches&&t.touches[0]?t.touches[0]:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t,this.onePointCoord(i,e)},getPinchDistance:function(t,e){var i=t.touches[0],n=t.touches[1],a=this.onePointCoord(i,e),s=this.onePointCoord(n,e);return Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2))},getPinchCenterCoord:function(t,e){var i=t.touches[0],n=t.touches[1],a=this.onePointCoord(i,e),s=this.onePointCoord(n,e);return{x:(a.x+s.x)/2,y:(a.y+s.y)/2}},imageLoaded:function(t){return t.complete&&0!==t.naturalWidth},rAFPolyfill:function(){if("undefined"!=typeof document&&"undefined"!=typeof window){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16.7-(i-t)),a=window.setTimeout(function(){e(i+n)},n);return t=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}}},toBlobPolyfill:function(){var t,e,i;"undefined"!=typeof document&&"undefined"!=typeof window&&HTMLCanvasElement&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,a,s){t=atob(this.toDataURL(a,s).split(",")[1]),e=t.length,i=new Uint8Array(e);for(var o=0;o<e;o++)i[o]=t.charCodeAt(o);n(new Blob([i],{type:a||"image/png"}))}}))},eventHasFile:function(t){var e=t.dataTransfer||t.originalEvent.dataTransfer;if(e.types)for(var i=0,n=e.types.length;i<n;i++)if("Files"==e.types[i])return!0;return!1},getFileOrientation:function(t){var e=new DataView(t);if(65496!=e.getUint16(0,!1))return-2;for(var i=e.byteLength,n=2;n<i;){var a=e.getUint16(n,!1);if(n+=2,65505==a){if(1165519206!=e.getUint32(n+=2,!1))return-1;var s=18761==e.getUint16(n+=6,!1);n+=e.getUint32(n+4,s);var o=e.getUint16(n,s);n+=2;for(var r=0;r<o;r++)if(274==e.getUint16(n+12*r,s))return e.getUint16(n+12*r+8,s)}else{if(65280!=(65280&a))break;n+=e.getUint16(n,!1)}}return-1},parseDataUrl:function(t){return/^data:([^;]+)?(;base64)?,(.*)/gim.exec(t)[3]},base64ToArrayBuffer:function(t){for(var e=atob(t),i=e.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=e.charCodeAt(a);return n.buffer},getRotatedImage:function(t,e){var n=i.drawImage(t,e),a=new Image;return a.src=n.toDataURL(),a},flipX:function(t){return t%2==0?t-1:t+1},flipY:function(t){return{1:4,4:1,2:3,3:2,5:8,8:5,6:7,7:6}[t]},rotate90:function(t){return{1:6,2:7,3:8,4:5,5:2,6:3,7:4,8:1}[t]},numberValid:function(t){return"number"==typeof t&&!isNaN(t)}};Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};var a=String;"undefined"!=typeof window&&window.Image&&(a=[String,Image]);var s={value:Object,width:{type:Number,default:200,validator:function(t){return t>0}},height:{type:Number,default:200,validator:function(t){return t>0}},placeholder:{type:String,default:"Choose an image"},placeholderColor:{default:"#606060"},placeholderFontSize:{type:Number,default:0,validator:function(t){return t>=0}},canvasColor:{default:"transparent"},quality:{type:Number,default:2,validator:function(t){return t>0}},zoomSpeed:{default:3,type:Number,validator:function(t){return t>0}},accept:String,fileSizeLimit:{type:Number,default:0,validator:function(t){return t>=0}},disabled:Boolean,disableDragAndDrop:Boolean,disableClickToChoose:Boolean,disableDragToMove:Boolean,disableScrollToZoom:Boolean,disablePinchToZoom:Boolean,disableRotation:Boolean,reverseScrollToZoom:Boolean,preventWhiteSpace:Boolean,showRemoveButton:{type:Boolean,default:!0},removeButtonColor:{type:String,default:"red"},removeButtonSize:{type:Number},initialImage:a,initialSize:{type:String,default:"cover",validator:function(t){return"cover"===t||"contain"===t||"natural"===t}},initialPosition:{type:String,default:"center",validator:function(t){var e=["center","top","bottom","left","right"];return t.split(" ").every(function(t){return e.indexOf(t)>=0})||/^-?\d+% -?\d+%$/.test(t)}},inputAttrs:Object,showLoading:Boolean,loadingSize:{type:Number,default:20},loadingColor:{type:String,default:"#606060"},replaceDrop:Boolean,passive:Boolean,imageBorderRadius:{type:[Number,String],default:0},autoSizing:Boolean,videoEnabled:Boolean},o="init",r="file-choose",l="file-size-exceed",u="file-type-mismatch",c="new-image",h="new-image-drawn",d="image-remove",f="move",p="zoom",g="draw",m="initial-image-loaded",v="loading-start",y="loading-end",_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=["imgData","img","imgSet","originalImage","naturalHeight","naturalWidth","orientation","scaleRatio"],w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",class:"croppa-container "+(t.img?"croppa--has-target":"")+" "+(t.passive?"croppa--passive":"")+" "+(t.disabled?"croppa--disabled":"")+" "+(t.disableClickToChoose?"croppa--disabled-cc":"")+" "+(t.disableDragToMove&&t.disableScrollToZoom?"croppa--disabled-mz":"")+" "+(t.fileDraggedOver?"croppa--dropzone":""),on:{dragenter:function(e){e.stopPropagation(),e.preventDefault(),t._handleDragEnter(e)},dragleave:function(e){e.stopPropagation(),e.preventDefault(),t._handleDragLeave(e)},dragover:function(e){e.stopPropagation(),e.preventDefault(),t._handleDragOver(e)},drop:function(e){e.stopPropagation(),e.preventDefault(),t._handleDrop(e)}}},[i("input",t._b({ref:"fileInput",staticStyle:{height:"1px",width:"1px",overflow:"hidden","margin-left":"-99999px",position:"absolute"},attrs:{type:"file",accept:t.accept,disabled:t.disabled},on:{change:t._handleInputChange}},"input",t.inputAttrs)),i("div",{staticClass:"slots",staticStyle:{width:"0",height:"0",visibility:"hidden"}},[t._t("initial"),t._t("placeholder")],2),i("canvas",{ref:"canvas",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t._handleClick(e)},dblclick:function(e){e.stopPropagation(),e.preventDefault(),t._handleDblClick(e)},touchstart:function(e){e.stopPropagation(),t._handlePointerStart(e)},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerStart(e)},pointerstart:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerStart(e)},touchend:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},touchcancel:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},mouseup:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},pointerend:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},pointercancel:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},touchmove:function(e){e.stopPropagation(),t._handlePointerMove(e)},mousemove:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerMove(e)},pointermove:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerMove(e)},pointerleave:function(e){e.stopPropagation(),e.preventDefault(),t._handlePointerLeave(e)},DOMMouseScroll:function(e){e.stopPropagation(),t._handleWheel(e)},wheel:function(e){e.stopPropagation(),t._handleWheel(e)},mousewheel:function(e){e.stopPropagation(),t._handleWheel(e)}}}),t.showRemoveButton&&t.img&&!t.passive?i("svg",{staticClass:"icon icon-remove",style:"top: -"+t.height/40+"px; right: -"+t.width/40+"px",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t.removeButtonSize||t.width/10,height:t.removeButtonSize||t.width/10},on:{click:t.remove}},[i("path",{attrs:{d:"M511.921231 0C229.179077 0 0 229.257846 0 512 0 794.702769 229.179077 1024 511.921231 1024 794.781538 1024 1024 794.702769 1024 512 1024 229.257846 794.781538 0 511.921231 0ZM732.041846 650.633846 650.515692 732.081231C650.515692 732.081231 521.491692 593.683692 511.881846 593.683692 502.429538 593.683692 373.366154 732.081231 373.366154 732.081231L291.761231 650.633846C291.761231 650.633846 430.316308 523.500308 430.316308 512.196923 430.316308 500.696615 291.761231 373.523692 291.761231 373.523692L373.366154 291.918769C373.366154 291.918769 503.453538 430.395077 511.881846 430.395077 520.349538 430.395077 650.515692 291.918769 650.515692 291.918769L732.041846 373.523692C732.041846 373.523692 593.447385 502.547692 593.447385 512.196923 593.447385 521.412923 732.041846 650.633846 732.041846 650.633846Z",fill:t.removeButtonColor}})]):t._e(),t.showLoading&&t.loading?i("div",{staticClass:"sk-fading-circle",style:t.loadingStyle},t._l(12,function(e){return i("div",{key:e,class:"sk-circle"+e+" sk-circle"},[i("div",{staticClass:"sk-circle-indicator",style:{backgroundColor:t.loadingColor}})])})):t._e(),t._t("default")],2)},staticRenderFns:[],model:{prop:"value",event:o},props:s,data:function(){return{canvas:null,ctx:null,originalImage:null,img:null,video:null,dragging:!1,lastMovingCoord:null,imgData:{width:0,height:0,startX:0,startY:0},fileDraggedOver:!1,tabStart:0,scrolling:!1,pinching:!1,rotating:!1,pinchDistance:0,supportTouch:!1,pointerMoved:!1,pointerStartCoord:null,naturalWidth:0,naturalHeight:0,scaleRatio:null,orientation:1,userMetadata:null,imageSet:!1,currentPointerCoord:null,currentIsInitial:!1,loading:!1,realWidth:0,realHeight:0,chosenFile:null,useAutoSizing:!1}},computed:{outputWidth:function(){return(this.useAutoSizing?this.realWidth:this.width)*this.quality},outputHeight:function(){return(this.useAutoSizing?this.realHeight:this.height)*this.quality},computedPlaceholderFontSize:function(){return this.placeholderFontSize*this.quality},aspectRatio:function(){return this.naturalWidth/this.naturalHeight},loadingStyle:function(){return{width:this.loadingSize+"px",height:this.loadingSize+"px",right:"15px",bottom:"10px"}}},mounted:function(){var t=this;this._initialize(),n.rAFPolyfill(),n.toBlobPolyfill(),this.supportDetection().basic||console.warn("Your browser does not support vue-croppa functionality."),this.passive&&this.$watch("value._data",function(e){var i=!1;if(e){for(var n in e)if(b.indexOf(n)>=0){var a=e[n];a!==t[n]&&(t.$set(t,n,a),i=!0)}i&&(t.img?t.$nextTick(function(){t._draw()}):t.remove())}},{deep:!0}),this.useAutoSizing=!!(this.autoSizing&&this.$refs.wrapper&&getComputedStyle),this.useAutoSizing&&this._autoSizingInit()},beforeDestroy:function(){this.useAutoSizing&&this._autoSizingRemove()},watch:{outputWidth:function(){this.onDimensionChange()},outputHeight:function(){this.onDimensionChange()},canvasColor:function(){this.img?this._draw():this._setPlaceholders()},imageBorderRadius:function(){this.img&&this._draw()},placeholder:function(){this.img||this._setPlaceholders()},placeholderColor:function(){this.img||this._setPlaceholders()},computedPlaceholderFontSize:function(){this.img||this._setPlaceholders()},preventWhiteSpace:function(t){t&&(this.imageSet=!1),this._placeImage()},scaleRatio:function(t,e){if(!this.passive&&this.img&&n.numberValid(t)){var i=1;n.numberValid(e)&&0!==e&&(i=t/e);var a=this.currentPointerCoord||{x:this.imgData.startX+this.imgData.width/2,y:this.imgData.startY+this.imgData.height/2};if(this.imgData.width=this.naturalWidth*t,this.imgData.height=this.naturalHeight*t,!this.userMetadata&&this.imageSet&&!this.rotating){var s=(i-1)*(a.x-this.imgData.startX),o=(i-1)*(a.y-this.imgData.startY);this.imgData.startX=this.imgData.startX-s,this.imgData.startY=this.imgData.startY-o}this.preventWhiteSpace&&(this._preventZoomingToWhiteSpace(),this._preventMovingToWhiteSpace())}},"imgData.width":function(t,e){n.numberValid(t)&&(this.scaleRatio=t/this.naturalWidth,this.hasImage()&&Math.abs(t-e)>1e-5*t&&(this.$emit(p),this._draw()))},"imgData.height":function(t){n.numberValid(t)&&(this.scaleRatio=t/this.naturalHeight)},"imgData.startX":function(t){this.hasImage()&&this.$nextTick(this._draw)},"imgData.startY":function(t){this.hasImage()&&this.$nextTick(this._draw)},loading:function(t){this.passive||(t?this.$emit(v):this.$emit(y))},autoSizing:function(t){this.useAutoSizing=!!(this.autoSizing&&this.$refs.wrapper&&getComputedStyle),t?this._autoSizingInit():this._autoSizingRemove()}},methods:{getCanvas:function(){return this.canvas},getContext:function(){return this.ctx},getChosenFile:function(){return this.chosenFile||this.$refs.fileInput.files[0]},move:function(t){if(t&&!this.passive){var e=this.imgData.startX,i=this.imgData.startY;this.imgData.startX+=t.x,this.imgData.startY+=t.y,this.preventWhiteSpace&&this._preventMovingToWhiteSpace(),this.imgData.startX===e&&this.imgData.startY===i||(this.$emit(f),this._draw())}},moveUpwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:0,y:-t})},moveDownwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:0,y:t})},moveLeftwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:-t,y:0})},moveRightwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:t,y:0})},zoom:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.passive){var i=this.zoomSpeed*e,n=1e-5*this.outputWidth*i,a=1;t?a=1+n:this.imgData.width>10&&(a=1-n),this.scaleRatio*=a}},zoomIn:function(){this.zoom(!0)},zoomOut:function(){this.zoom(!1)},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.disableRotation||this.disabled||this.passive||(t=parseInt(t),(isNaN(t)||t>3||t<-3)&&(console.warn("Invalid argument for rotate() method. It should one of the integers from -3 to 3."),t=1),this._rotateByStep(t))},flipX:function(){this.disableRotation||this.disabled||this.passive||this._setOrientation(2)},flipY:function(){this.disableRotation||this.disabled||this.passive||this._setOrientation(4)},refresh:function(){this.$nextTick(this._initialize)},hasImage:function(){return!!this.imageSet},applyMetadata:function(t){if(t&&!this.passive){this.userMetadata=t;var e=t.orientation||this.orientation||1;this._setOrientation(e,!0)}},generateDataUrl:function(t,e){return this.hasImage()?this.canvas.toDataURL(t,e):""},generateBlob:function(t,e,i){this.hasImage()?this.canvas.toBlob(t,e,i):t(null)},promisedBlob:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];if("undefined"!=typeof Promise)return new Promise(function(e,n){try{t.generateBlob.apply(t,[function(t){e(t)}].concat(i))}catch(t){n(t)}});console.warn("No Promise support. Please add Promise polyfill if you want to use this method.")},getMetadata:function(){if(!this.hasImage())return{};var t=this.imgData;return{startX:t.startX,startY:t.startY,scale:this.scaleRatio,orientation:this.orientation}},supportDetection:function(){if("undefined"!=typeof window){var t=document.createElement("div");return{basic:window.requestAnimationFrame&&window.File&&window.FileReader&&window.FileList&&window.Blob,dnd:"ondragstart"in t&&"ondrop"in t}}},chooseFile:function(){this.passive||this.$refs.fileInput.click()},remove:function(){this._setPlaceholders();var t=null!=this.img;this.originalImage=null,this.img=null,this.$refs.fileInput.value="",this.imgData={width:0,height:0,startX:0,startY:0},this.orientation=1,this.scaleRatio=null,this.userMetadata=null,this.imageSet=!1,this.loading=!1,this.chosenFile=null,this.video&&(this.video.pause(),this.video=null),t&&this.$emit(d)},addClipPlugin:function(t){if(this.clipPlugins||(this.clipPlugins=[]),!("function"==typeof t&&this.clipPlugins.indexOf(t)<0))throw Error("Clip plugins should be functions");this.clipPlugins.push(t)},emitNativeEvent:function(t){this.$emit(t.type,t)},_setContainerSize:function(){this.useAutoSizing&&(this.realWidth=+getComputedStyle(this.$refs.wrapper).width.slice(0,-2),this.realHeight=+getComputedStyle(this.$refs.wrapper).height.slice(0,-2))},_autoSizingInit:function(){this._setContainerSize(),window.addEventListener("resize",this._setContainerSize)},_autoSizingRemove:function(){this._setContainerSize(),window.removeEventListener("resize",this._setContainerSize)},_initialize:function(){this.canvas=this.$refs.canvas,this._setSize(),this.canvas.style.backgroundColor=this.canvasColor&&"default"!=this.canvasColor?"string"==typeof this.canvasColor?this.canvasColor:"":"transparent",this.ctx=this.canvas.getContext("2d"),this.ctx.mozImageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.webkitImageSmoothingEnabled=!0,this.ctx.msImageSmoothingEnabled=!0,this.ctx.imageSmoothingEnabled=!0,this.originalImage=null,this.img=null,this.$refs.fileInput.value="",this.imageSet=!1,this.chosenFile=null,this._setInitial(),this.passive||this.$emit(o,this)},_setSize:function(){this.canvas.width=this.outputWidth,this.canvas.height=this.outputHeight,this.canvas.style.width=(this.useAutoSizing?this.realWidth:this.width)+"px",this.canvas.style.height=(this.useAutoSizing?this.realHeight:this.height)+"px"},_rotateByStep:function(t){var e=1;switch(t){case 1:e=6;break;case 2:e=3;break;case 3:case-1:e=8;break;case-2:e=3;break;case-3:e=6}this._setOrientation(e)},_setImagePlaceholder:function(){var t=this,e=void 0;if(this.$slots.placeholder&&this.$slots.placeholder[0]){var i=this.$slots.placeholder[0],a=i.tag,s=i.elm;"img"==a&&s&&(e=s)}if(e){var o=function(){t.ctx.drawImage(e,0,0,t.outputWidth,t.outputHeight)};n.imageLoaded(e)?o():e.onload=o}},_setTextPlaceholder:function(){var t=this.ctx;t.textBaseline="middle",t.textAlign="center";var e=this.outputWidth*(2/3)/this.placeholder.length,i=this.computedPlaceholderFontSize&&0!=this.computedPlaceholderFontSize?this.computedPlaceholderFontSize:e;t.font=i+"px sans-serif",t.fillStyle=this.placeholderColor&&"default"!=this.placeholderColor?this.placeholderColor:"#606060",t.fillText(this.placeholder,this.outputWidth/2,this.outputHeight/2)},_setPlaceholders:function(){this._paintBackground(),this._setImagePlaceholder(),this._setTextPlaceholder()},_setInitial:function(){var t=this,e=void 0,i=void 0;if(this.$slots.initial&&this.$slots.initial[0]){var a=this.$slots.initial[0],s=a.tag,o=a.elm;"img"==s&&o&&(i=o)}this.initialImage&&"string"==typeof this.initialImage?(e=this.initialImage,i=new Image,/^data:/.test(e)||/^blob:/.test(e)||i.setAttribute("crossOrigin","anonymous"),i.src=e):"object"===_(this.initialImage)&&this.initialImage instanceof Image&&(i=this.initialImage),e||i?(this.currentIsInitial=!0,n.imageLoaded(i)?this._onload(i,+i.dataset.exifOrientation,!0):(this.loading=!0,i.onload=function(){t._onload(i,+i.dataset.exifOrientation,!0)},i.onerror=function(){t._setPlaceholders()})):this._setPlaceholders()},_onload:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2];this.originalImage=t,this.img=t,isNaN(e)&&(e=1),this._setOrientation(e),i&&this.$emit(m)},_onVideoLoad:function(t,e){var i=this;this.video=t;var n=document.createElement("canvas"),a=t.videoWidth,s=t.videoHeight;n.width=a,n.height=s;var o=n.getContext("2d");this.loading=!1;var r=function(t){if(i.video){o.drawImage(i.video,0,0,a,s);var e=new Image;e.src=n.toDataURL(),e.onload=function(){i.img=e,t?i._placeImage():i._draw()}}};r(!0);var l=function t(){i.$nextTick(function(){r(),!i.video||i.video.ended||i.video.paused||requestAnimationFrame(t)})};this.video.addEventListener("play",function(){requestAnimationFrame(l)})},_handleClick:function(t){this.emitNativeEvent(t),this.hasImage()||this.disableClickToChoose||this.disabled||this.supportTouch||this.passive||this.chooseFile()},_handleDblClick:function(t){this.emitNativeEvent(t),this.videoEnabled&&this.video&&(this.video.paused||this.video.ended?this.video.play():this.video.pause())},_handleInputChange:function(){var t=this.$refs.fileInput;if(t.files.length&&!this.passive){var e=t.files[0];this._onNewFileIn(e)}},_onNewFileIn:function(t){var e=this;if(this.currentIsInitial=!1,this.loading=!0,this.$emit(r,t),this.chosenFile=t,!this._fileSizeIsValid(t))return this.loading=!1,this.$emit(l,t),!1;if(!this._fileTypeIsValid(t)){this.loading=!1,this.$emit(u,t);t.type||t.name.toLowerCase().split(".").pop();return!1}if("undefined"!=typeof window&&void 0!==window.FileReader){var i=new FileReader;i.onload=function(i){var a=i.target.result,s=n.parseDataUrl(a);if(/^video/.test(t.type)){var o=document.createElement("video");o.src=a,a=null,o.readyState>=o.HAVE_FUTURE_DATA?e._onVideoLoad(o):o.addEventListener("canplay",function(){console.log("can play event"),e._onVideoLoad(o)},!1)}else{var r=1;try{r=n.getFileOrientation(n.base64ToArrayBuffer(s))}catch(t){}r<1&&(r=1);var l=new Image;l.src=a,a=null,l.onload=function(){e._onload(l,r),e.$emit(c)}}},i.readAsDataURL(t)}},_fileSizeIsValid:function(t){return!!t&&(!this.fileSizeLimit||0==this.fileSizeLimit||t.size<this.fileSizeLimit)},_fileTypeIsValid:function(t){if(!(this.videoEnabled&&/^video/.test(t.type)&&document.createElement("video").canPlayType(t.type)||/^image/.test(t.type)))return!1;if(!this.accept)return!0;for(var e=this.accept,i=e.replace(/\/.*$/,""),n=e.split(","),a=0,s=n.length;a<s;a++){var o=n[a],r=o.trim();if("."==r.charAt(0)){if(t.name.toLowerCase().split(".").pop()===r.toLowerCase().slice(1))return!0}else if(/\/\*$/.test(r)){if(t.type.replace(/\/.*$/,"")===i)return!0}else if(t.type===o)return!0}return!1},_placeImage:function(t){if(this.img){var e=this.imgData;if(this.naturalWidth=this.img.naturalWidth,this.naturalHeight=this.img.naturalHeight,e.startX=n.numberValid(e.startX)?e.startX:0,e.startY=n.numberValid(e.startY)?e.startY:0,this.preventWhiteSpace?this._aspectFill():this.imageSet?(this.imgData.width=this.naturalWidth*this.scaleRatio,this.imgData.height=this.naturalHeight*this.scaleRatio):"contain"==this.initialSize?this._aspectFit():"natural"==this.initialSize?this._naturalSize():this._aspectFill(),!this.imageSet&&(/top/.test(this.initialPosition)?e.startY=0:/bottom/.test(this.initialPosition)&&(e.startY=this.outputHeight-e.height),/left/.test(this.initialPosition)?e.startX=0:/right/.test(this.initialPosition)&&(e.startX=this.outputWidth-e.width),/^-?\d+% -?\d+%$/.test(this.initialPosition))){var i=/^(-?\d+)% (-?\d+)%$/.exec(this.initialPosition),a=+i[1]/100,s=+i[2]/100;e.startX=a*(this.outputWidth-e.width),e.startY=s*(this.outputHeight-e.height)}t&&this._applyMetadata(),t&&this.preventWhiteSpace?this.zoom(!1,0):(this.move({x:0,y:0}),this._draw())}},_aspectFill:function(){var t=this.naturalWidth,e=this.naturalHeight,i=this.outputWidth/this.outputHeight,n=void 0;this.aspectRatio>i?(n=e/this.outputHeight,this.imgData.width=t/n,this.imgData.height=this.outputHeight,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=0):(n=t/this.outputWidth,this.imgData.height=e/n,this.imgData.width=this.outputWidth,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2,this.imgData.startX=0)},_aspectFit:function(){var t=this.naturalWidth,e=this.naturalHeight,i=this.outputWidth/this.outputHeight,n=void 0;this.aspectRatio>i?(n=t/this.outputWidth,this.imgData.height=e/n,this.imgData.width=this.outputWidth,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2,this.imgData.startX=0):(n=e/this.outputHeight,this.imgData.width=t/n,this.imgData.height=this.outputHeight,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=0)},_naturalSize:function(){var t=this.naturalWidth,e=this.naturalHeight;this.imgData.width=t,this.imgData.height=e,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2},_handlePointerStart:function(t){if(this.emitNativeEvent(t),!this.passive){this.supportTouch=!0,this.pointerMoved=!1;var e=n.getPointerCoords(t,this);if(this.pointerStartCoord=e,!this.disabled)if(this.hasImage()||this.disableClickToChoose){if(!(t.which&&t.which>1)){if(!t.touches||1===t.touches.length){this.dragging=!0,this.pinching=!1;var i=n.getPointerCoords(t,this);this.lastMovingCoord=i}t.touches&&2===t.touches.length&&!this.disablePinchToZoom&&(this.dragging=!1,this.pinching=!0,this.pinchDistance=n.getPinchDistance(t,this));for(var a=["mouseup","touchend","touchcancel","pointerend","pointercancel"],s=0,o=a.length;s<o;s++){var r=a[s];document.addEventListener(r,this._handlePointerEnd)}}}else this.tabStart=(new Date).valueOf()}},_handlePointerEnd:function(t){if(this.emitNativeEvent(t),!this.passive){var e=0;if(this.pointerStartCoord){var i=n.getPointerCoords(t,this);e=Math.sqrt(Math.pow(i.x-this.pointerStartCoord.x,2)+Math.pow(i.y-this.pointerStartCoord.y,2))||0}if(!this.disabled){if(!this.hasImage()&&!this.disableClickToChoose){var a=(new Date).valueOf();return e<100&&a-this.tabStart<500&&this.supportTouch&&this.chooseFile(),void(this.tabStart=0)}this.dragging=!1,this.pinching=!1,this.pinchDistance=0,this.lastMovingCoord=null,this.pointerMoved=!1,this.pointerStartCoord=null}}},_handlePointerMove:function(t){if(this.emitNativeEvent(t),!this.passive&&(this.pointerMoved=!0,this.hasImage())){var e=n.getPointerCoords(t,this);if(this.currentPointerCoord=e,!this.disabled&&!this.disableDragToMove){if(t.preventDefault(),!t.touches||1===t.touches.length){if(!this.dragging)return;this.lastMovingCoord&&this.move({x:e.x-this.lastMovingCoord.x,y:e.y-this.lastMovingCoord.y}),this.lastMovingCoord=e}if(t.touches&&2===t.touches.length&&!this.disablePinchToZoom){if(!this.pinching)return;var i=n.getPinchDistance(t,this),a=i-this.pinchDistance;this.zoom(a>0,1),this.pinchDistance=i}}}},_handlePointerLeave:function(t){this.emitNativeEvent(t),this.passive||(this.currentPointerCoord=null)},_handleWheel:function(t){var e=this;this.emitNativeEvent(t),this.passive||this.disabled||this.disableScrollToZoom||!this.hasImage()||(t.preventDefault(),this.scrolling=!0,t.wheelDelta<0||t.deltaY>0||t.detail>0?this.zoom(this.reverseScrollToZoom):(t.wheelDelta>0||t.deltaY<0||t.detail<0)&&this.zoom(!this.reverseScrollToZoom),this.$nextTick(function(){e.scrolling=!1}))},_handleDragEnter:function(t){this.emitNativeEvent(t),this.passive||this.disabled||this.disableDragAndDrop||!n.eventHasFile(t)||this.hasImage()&&!this.replaceDrop||(this.fileDraggedOver=!0)},_handleDragLeave:function(t){this.emitNativeEvent(t),this.passive||this.fileDraggedOver&&n.eventHasFile(t)&&(this.fileDraggedOver=!1)},_handleDragOver:function(t){this.emitNativeEvent(t)},_handleDrop:function(t){if(this.emitNativeEvent(t),!this.passive&&this.fileDraggedOver&&n.eventHasFile(t)){this.hasImage()&&this.replaceDrop&&this.remove(),this.fileDraggedOver=!1;var e=void 0,i=t.dataTransfer;if(i){if(i.items)for(var a=0,s=i.items.length;a<s;a++){var o=i.items[a];if("file"==o.kind){e=o.getAsFile();break}}else e=i.files[0];e&&this._onNewFileIn(e)}}},_preventMovingToWhiteSpace:function(){this.imgData.startX>0&&(this.imgData.startX=0),this.imgData.startY>0&&(this.imgData.startY=0),this.outputWidth-this.imgData.startX>this.imgData.width&&(this.imgData.startX=-(this.imgData.width-this.outputWidth)),this.outputHeight-this.imgData.startY>this.imgData.height&&(this.imgData.startY=-(this.imgData.height-this.outputHeight))},_preventZoomingToWhiteSpace:function(){this.imgData.width<this.outputWidth&&(this.scaleRatio=this.outputWidth/this.naturalWidth),this.imgData.height<this.outputHeight&&(this.scaleRatio=this.outputHeight/this.naturalHeight)},_setOrientation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,i=arguments[1],a=i;if(e>1||a){if(!this.img)return;this.rotating=!0;var s=n.getRotatedImage(a?this.originalImage:this.img,e);s.onload=function(){t.img=s,t._placeImage(i)}}else this._placeImage(i);this.orientation=2==e?n.flipX(this.orientation):4==e?n.flipY(this.orientation):6==e?n.rotate90(this.orientation):3==e?n.rotate90(n.rotate90(this.orientation)):8==e?n.rotate90(n.rotate90(n.rotate90(this.orientation))):e,a&&(this.orientation=e)},_paintBackground:function(){var t=this.canvasColor&&"default"!=this.canvasColor?this.canvasColor:"transparent";this.ctx.fillStyle=t,this.ctx.clearRect(0,0,this.outputWidth,this.outputHeight),this.ctx.fillRect(0,0,this.outputWidth,this.outputHeight)},_draw:function(){var t=this;this.$nextTick(function(){"undefined"!=typeof window&&window.requestAnimationFrame?requestAnimationFrame(t._drawFrame):t._drawFrame()})},_drawFrame:function(){if(this.img){this.loading=!1;var t=this.ctx,e=this.imgData,i=e.startX,n=e.startY,a=e.width,s=e.height;this._paintBackground(),t.drawImage(this.img,i,n,a,s),this.preventWhiteSpace&&this._clip(this._createContainerClipPath),this.$emit(g,t),this.imageSet||(this.imageSet=!0,this.$emit(h)),this.rotating=!1}},_clipPathFactory:function(t,e,i,n){var a=this.ctx,s="number"==typeof this.imageBorderRadius?this.imageBorderRadius:isNaN(Number(this.imageBorderRadius))?0:Number(this.imageBorderRadius);a.beginPath(),a.moveTo(t+s,e),a.lineTo(t+i-s,e),a.quadraticCurveTo(t+i,e,t+i,e+s),a.lineTo(t+i,e+n-s),a.quadraticCurveTo(t+i,e+n,t+i-s,e+n),a.lineTo(t+s,e+n),a.quadraticCurveTo(t,e+n,t,e+n-s),a.lineTo(t,e+s),a.quadraticCurveTo(t,e,t+s,e),a.closePath()},_createContainerClipPath:function(){var t=this;this._clipPathFactory(0,0,this.outputWidth,this.outputHeight),this.clipPlugins&&this.clipPlugins.length&&this.clipPlugins.forEach(function(e){e(t.ctx,0,0,t.outputWidth,t.outputHeight)})},_clip:function(t){var e=this.ctx;e.save(),e.fillStyle="#fff",e.globalCompositeOperation="destination-in",t(),e.fill(),e.restore()},_applyMetadata:function(){var t=this;if(this.userMetadata){var e=this.userMetadata,i=e.startX,a=e.startY,s=e.scale;n.numberValid(i)&&(this.imgData.startX=i),n.numberValid(a)&&(this.imgData.startY=a),n.numberValid(s)&&(this.scaleRatio=s),this.$nextTick(function(){t.userMetadata=null})}},onDimensionChange:function(){this.img?(this.preventWhiteSpace&&(this.imageSet=!1),this._setSize(),this._placeImage()):this._initialize()}}},x=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var k=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,n,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var o in i=Object(arguments[s]))C.call(i,o)&&(a[o]=i[o]);if(x){n=x(i);for(var r=0;r<n.length;r++)S.call(i,n[r])&&(a[n[r]]=i[n[r]])}}return a},D={componentName:"croppa"};return{install:function(t,e){e=k({},D,e);var i=Number(t.version.split(".")[0]);if(i<2)throw new Error("vue-croppa supports vue version 2.0 and above. You are using Vue@"+i+". Please upgrade to the latest version of Vue.");var n=e.componentName||"croppa";t.component(n,w)},component:w}},t.exports=i()}).call(e,i("DuR2"))},"9bBU":function(t,e,i){i("mClu");var n=i("FeBl").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},GegP:function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=349)}({0:function(t,e){t.exports=function(t,e,i,n,a,s){var o,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,r=t.default);var u,c="function"==typeof r?r.options:r;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId=a),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):n&&(u=n),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:r,options:c}}},349:function(t,e,i){t.exports=i(350)},350:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i(351),s=(n=a)&&n.__esModule?n:{default:n};s.default.install=function(t){t.component(s.default.name,s.default)},e.default=s.default},351:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(352),a=i.n(n),s=i(353),o=i(0)(a.a,s.a,!1,null,null,null);e.default=o.exports},352:function(t,e,i){"use strict";e.__esModule=!0,e.default={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String},strokeWidth:{type:Number,default:6},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:String,default:""}},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.color,t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},trackPath:function(){var t=parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10);return"M 50 50 m 0 -"+t+" a "+t+" "+t+" 0 1 1 0 "+2*t+" a "+t+" "+t+" 0 1 1 0 -"+2*t},perimeter:function(){var t=50-parseFloat(this.relativeStrokeWidth)/2;return 2*Math.PI*t},circlePathStyle:function(){var t=this.perimeter;return{strokeDasharray:t+"px,"+t+"px",strokeDashoffset:(1-this.percentage/100)*t+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.color;else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;default:t="#20a0ff"}return t},iconClass:function(){return"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-cross":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2}}}},353:function(t,e,i){"use strict";var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.percentage)+"%")]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,"stroke-linecap":"round",stroke:t.stroke,"stroke-width":t.relativeStrokeWidth,fill:"none"}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.percentage)+"%")]],2):t._e()])},staticRenderFns:[]};e.a=n}})},P0zQ:function(t,e){},SvnF:function(t,e,i){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return 1===i.length&&"object"===n(i[0])&&(i=i[0]),i&&i.hasOwnProperty||(i={}),t.replace(s,function(e,n,s,o){var r=void 0;return"{"===t[o-1]&&"}"===t[o+e.length]?s:null===(r=(0,a.hasOwn)(i,s)?i[s]:null)||void 0===r?"":r})}};var a=i("ylDJ"),s=/(%|)\{([0-9a-zA-Z_]+)\}/g},Vi3T:function(t,e,i){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"}}}},Zrlr:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},aW5l:function(t,e,i){"use strict";e.__esModule=!0,e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},dAsM:function(t,e,i){"use strict";e.a=class{constructor(t,e){this.root=t,this.client=e}async create(t){return await this.client.post(`${this.root}`,t)}async list(t){return await this.client.get(`${this.root}`,t)}async patch(t,e){return await this.client.patch(`${this.root}/${t}`,e)}async delete(t){return await this.client.delete(`${this.root}/${t}`)}}},i3rX:function(t,e,i){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===a}(t)}(t)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){var i;return e&&!0===e.clone&&n(t)?r((i=t,Array.isArray(i)?[]:{}),t,e):t}function o(t,e,i){var a=t.slice();return e.forEach(function(e,o){void 0===a[o]?a[o]=s(e,i):n(e)?a[o]=r(t[o],e,i):-1===t.indexOf(e)&&a.push(s(e,i))}),a}function r(t,e,i){var a=Array.isArray(e);return a===Array.isArray(t)?a?((i||{arrayMerge:o}).arrayMerge||o)(t,e,i):function(t,e,i){var a={};return n(t)&&Object.keys(t).forEach(function(e){a[e]=s(t[e],i)}),Object.keys(e).forEach(function(o){n(e[o])&&t[o]?a[o]=r(t[o],e[o],i):a[o]=s(e[o],i)}),a}(t,e,i):s(e,i)}r.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,i){return r(t,i,e)})};var l=r;t.exports=l},jAzQ:function(t,e){},"m9/H":function(t,e){},mClu:function(t,e,i){var n=i("kM2E");n(n.S+n.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},nvbp:function(t,e){var i=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce(function(t,e){var a,s,o,r,l;for(o in e)if(a=t[o],s=e[o],a&&i.test(o))if("class"===o&&("string"==typeof a&&(l=a,t[o]=a={},a[l]=!0),"string"==typeof s&&(l=s,e[o]=s={},s[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(r in s)a[r]=n(a[r],s[r]);else if(Array.isArray(a))t[o]=a.concat(s);else if(Array.isArray(s))t[o]=[a].concat(s);else for(r in s)a[r]=s[r];else t[o]=e[o];return t},{})}},pIRA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=i("Xxa5"),s=i.n(a),o=i("exGp"),r=i.n(o),l=(i("jAzQ"),i("+BTi"),i("wOhx")),u=i.n(l),c={getOssPolicy:(n=r()(s.a.mark(function t(e,i){var n;e.dir;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.servers.image.get("/api/oss/policy");case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)})),function(t,e){return n.apply(this,arguments)})},h={data:function(){return{action:"",oss_data:{}}},methods:{ossBeforeUpload:function(t){var e=this;return r()(s.a.mark(function i(){var n;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.getOssPolicy("user-text",e.ctx);case 2:n=i.sent,e.action=n.host,e.oss_data={key:n.key+"."+e.fileExtension(t.name),policy:n.policy,signature:n.signature,OSSAccessKeyId:n.OSSAccessKeyId,success_action_status:"200","x-oss-meta-filename":t.name};case 5:case"end":return i.stop()}},i,e)}))()},fileExtension:function(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0))}}},d=i("BO1k"),f=i.n(d),p=i("dAsM"),g=i("Zrlr"),m=i.n(g),v=i("wxAW"),y=i.n(v),_=function(){function t(e){m()(this,t),this.client=e}return y()(t,[{key:"create",value:function(){var t=r()(s.a.mark(function t(e,i,n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.client.put("/api/dictionary/"+e+"/"+i,n);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));return function(e,i,n){return t.apply(this,arguments)}}()},{key:"list",value:function(){var t=r()(s.a.mark(function t(e){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.client.get("/api/dictionary/"+e);case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=r()(s.a.mark(function t(e,i){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.client.delete("/api/dictionary/"+e+"/"+i);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}()}]),t}(),b={name:"image-list",components:{},props:{tag:{type:String},name:{type:String},tags:{type:Array}},data:function(){return{host:"https://shopen-test.oss-cn-beijing.aliyuncs.com/",images:[],reachBottom:!1,currentPage:1,count:10,total:1e7}},created:function(){this.imagedao=new p.a("/api/v1/image",this.ctx.servers.image),this.dictdao=new _(this.ctx.servers.dictionary),this.listMoreImages()},watch:{tag:function(){var t=r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.reloadFromStart();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},methods:{reloadFromStart:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.reachBottom=!1,t.currentPage=1,t.images=[],e.next=5,t.listMoreImages();case 5:case"end":return e.stop()}},e,t)}))()},listMoreImages:function(){var t=this;return r()(s.a.mark(function e(){var i,n,a,o,r,l,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={page:t.currentPage,count:t.count,sort:"_id",order:-1},t.name?(i.key="name",i.value=t.name):t.tag&&(i.key="tags",i.value=t.tag),e.next=4,t.imagedao.list(i);case 4:for(n=e.sent,t.total=n.total,a=!0,o=!1,r=void 0,e.prev=9,l=f()(n.list);!(a=(u=l.next()).done);a=!0)(c=u.value).checked=!1,c.editing=!1,c.tags=c.tags||[],t.images.push(c);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),o=!0,r=e.t0;case 17:e.prev=17,e.prev=18,!a&&l.return&&l.return();case 20:if(e.prev=20,!o){e.next=23;break}throw r;case 23:return e.finish(20);case 24:return e.finish(17);case 25:t.total<t.currentPage*t.count&&(t.reachBottom=!0);case 26:case"end":return e.stop()}},e,t,[[9,13,17,25],[18,,20,24]])}))()},editImage:function(t){t.editing=!0},cancelEditImage:function(t){t.editing=!1},finishEditImage:function(t){var e=this;return r()(s.a.mark(function i(){var n,a,o,r,l,u;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.tags.length){i.next=28;break}n=!0,a=!1,o=void 0,i.prev=4,r=f()(t.tags);case 6:if(n=(l=r.next()).done){i.next=14;break}if(u=l.value,-1!==e.tags.indexOf(u)){i.next=11;break}return i.next=11,e.dictdao.create("image-tags",u);case 11:n=!0,i.next=6;break;case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(4),a=!0,o=i.t0;case 20:i.prev=20,i.prev=21,!n&&r.return&&r.return();case 23:if(i.prev=23,!a){i.next=26;break}throw o;case 26:return i.finish(23);case 27:return i.finish(20);case 28:return i.next=30,e.imagedao.patch(t._id,{name:t.name,tags:t.tags});case 30:t.editing=!1;case 31:case"end":return i.stop()}},i,e,[[4,16,20,28],[21,,23,27]])}))()},deleteImage:function(t){var e=this;return r()(s.a.mark(function i(){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.imagedao.delete(t._id);case 2:return i.next=4,e.reloadFromStart();case 4:case"end":return i.stop()}},i,e)}))()}}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-list-wrapper"},t._l(t.images,function(e){return i("div",{key:e._id,staticClass:"image-box"},[i("div",{staticClass:"thumbnail"},[i("img",{attrs:{src:t.host+e.key+"?x-oss-process=image/resize,m_fill,h_150,w_200"}})]),t._v(" "),i("div",{staticClass:"image-name"},[e.editing?t._e():i("div",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),e.editing?i("el-input",{attrs:{size:"mini"},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"image.name"}}):t._e()],1),t._v(" "),i("div",{staticClass:"tag-wrapper"},[e.editing?t._e():i("div",[t._l(e.tags,function(e){return i("el-tag",{key:e,attrs:{size:"mini","disable-transitions":!0}},[t._v("\n          "+t._s(e)+"\n        ")])}),t._v(" "),0===e.tags.length?i("div",{staticClass:"no-tag"},[t._v("未设置标签")]):t._e()],2),t._v(" "),e.editing?i("el-select",{attrs:{multiple:"",filterable:"","allow-create":"",size:"mini","default-first-option":"",placeholder:"请设置标签"},model:{value:e.tags,callback:function(i){t.$set(e,"tags",i)},expression:"image.tags"}},t._l(t.tags,function(t){return i("el-option",{key:t.key,attrs:{label:t.key,value:t.key}})})):t._e()],1),t._v(" "),i("div",{staticClass:"icons"},[e.editing?t._e():i("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit-outline"},on:{click:function(i){t.editImage(e)}}},[t._v("编辑")]),t._v(" "),e.editing?i("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(i){t.deleteImage(e)}}},[t._v("删除")]):t._e(),t._v(" "),e.editing?i("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-close"},on:{click:function(i){t.cancelEditImage(e)}}},[t._v("取消")]):t._e(),t._v(" "),e.editing?i("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-check"},on:{click:function(i){t.finishEditImage(e)}}},[t._v("保存")]):t._e()],1)])}))},staticRenderFns:[]};var x=i("VU/8")(b,w,!1,function(t){i("+qJp")},null,null).exports,C={name:"gallery-filter",components:{},data:function(){return{tags:[],filteredTag:"",searchFileName:""}},created:function(){this.dictdao=new _(this.ctx.servers.dictionary),this.reloadTags()},methods:{reloadTags:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dictdao.list("image-tags");case 2:t.tags=e.sent,t.$emit("tags",t.tags);case 4:case"end":return e.stop()}},e,t)}))()},tagChecked:function(t){this.filteredTag=t,this.$emit("tag",this.filteredTag)},createTag:function(){},manageTag:function(){}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gallery-filter-wrapper"},[i("div",{staticClass:"by-name"},[t._m(0),t._v(" "),i("div",{staticClass:"name"},[i("el-input",{attrs:{placeholder:"请输入图片名称",size:"mini"},model:{value:t.searchFileName,callback:function(e){t.searchFileName=e},expression:"searchFileName"}})],1)]),t._v(" "),i("div",{staticClass:"tags"},[i("h3",{staticClass:"group-title"},[i("span",{staticClass:"title"},[t._v("标签")]),t._v(" "),i("div",{staticClass:"actions"},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.createTag}},[t._v("创建")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.manageTag}},[t._v("管理")])],1)]),t._v(" "),i("ul",{staticClass:"tag-list"},[i("li",{class:""===t.filteredTag?"checked":"",on:{click:function(e){t.tagChecked("")}}},[t._m(1)]),t._v(" "),t._l(t.tags,function(e){return i("li",{key:e.key,class:t.filteredTag===e.key?"checked":"",on:{click:function(i){t.tagChecked(e.key)}}},[i("div",{staticClass:"info"},[i("span",{staticClass:"filter-label"},[t._v(t._s(e.key))])])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"group-title"},[e("span",{staticClass:"title"},[this._v("按图片名称搜索")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("span",{staticClass:"filter-label"},[this._v("所有图片")])])}]};var k=i("VU/8")(C,S,!1,function(t){i("m9/H")},null,null).exports,D=i("86jz"),P=i.n(D),F=i("7+uW");i("toYN");F.default.use(P.a);var T={name:"page-gallery",components:{"el-upload":u.a,"image-list":x,"gallery-filter":k},mixins:[h],data:function(){return{tags:[],filteredTag:"",filteredName:"",croppa:{},croppaOpts:{}}},created:function(){this.imagedao=new p.a("/api/v1/image",this.ctx.servers.image)},computed:{},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},filterByTag:function(t){this.filteredTag=t},reloadAllTags:function(t){console.log(t),this.tags=t},filterByName:function(t){this.filteredName=t},uploadSuccess:function(t,e,i){var n=this;return r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.createImage(n.oss_data.key,e.name,e.size);case 2:n.$refs.imagelist.reloadFromStart();case 3:case"end":return t.stop()}},t,n)}))()},createImage:function(t,e,i){var n=this;return r()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.imagedao.create({key:t,name:e,size:i});case 2:case"end":return a.stop()}},a,n)}))()},createTag:function(){},manageTag:function(){}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-image-gallery"},[i("div",{staticClass:"left-filter flex-column"},[i("gallery-filter",{on:{tag:t.filterByTag,name:t.filterByName,tags:t.reloadAllTags}})],1),t._v(" "),i("div",{staticClass:"center-images flex-column"},[i("image-list",{ref:"imagelist",attrs:{tag:t.filteredTag,name:t.filteredName,tags:t.tags}})],1),t._v(" "),i("div",{staticClass:"right-upload-modify flex-column"},[i("el-upload",{ref:"upload",staticClass:"uploader",attrs:{action:t.action,multiple:"",drag:"",data:t.oss_data,"before-upload":t.ossBeforeUpload,"auto-upload":!0,"on-success":t.uploadSuccess,"on-remove":t.handleRemove}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处或"),i("em",[t._v("点击上传")])]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传图片文件，且不超过10M")])]),t._v(" "),i("a",{on:{click:t.createImage}},[t._v("createImage")])],1)])},staticRenderFns:[]};var E=i("VU/8")(T,I,!1,function(t){i("P0zQ")},null,null);e.default=E.exports},toYN:function(t,e){},urW8:function(t,e,i){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var n=o(i("Vi3T")),a=o(i("7+uW")),s=o(i("i3rX"));function o(t){return t&&t.__esModule?t:{default:t}}var r=(0,o(i("SvnF")).default)(a.default),l=n.default,u=!1,c=function(){var t=Object.getPrototypeOf(this||a.default).$t;if("function"==typeof t&&a.default.locale)return u||(u=!0,a.default.locale(a.default.config.lang,(0,s.default)(l,a.default.locale(a.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},h=e.t=function(t,e){var i=c.apply(this,arguments);if(null!==i&&void 0!==i)return i;for(var n=t.split("."),a=l,s=0,o=n.length;s<o;s++){if(i=a[n[s]],s===o-1)return r(i,e);if(!i)return"";a=i}return""},d=e.use=function(t){l=t||l},f=e.i18n=function(t){c=t||c};e.default={use:d,t:h,i18n:f}},wOhx:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=335)}({0:function(t,e){t.exports=function(t,e,i,n,a,s){var o,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,r=t.default);var u,c="function"==typeof r?r.options:r;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId=a),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):n&&(u=n),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:r,options:c}}},335:function(t,e,i){t.exports=i(336)},336:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i(337),s=(n=a)&&n.__esModule?n:{default:n};s.default.install=function(t){t.component(s.default.name,s.default)},e.default=s.default},337:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(338),a=i.n(n),s=i(0)(a.a,null,!1,null,null,null);e.default=s.exports},338:function(t,e,i){"use strict";e.__esModule=!0;var n=l(i(339)),a=l(i(342)),s=l(i(347)),o=l(i(52)),r=l(i(8));function l(t){return t&&t.__esModule?t:{default:t}}function u(){}e.default={name:"ElUpload",mixins:[r.default],components:{ElProgress:o.default,UploadList:n.default,Upload:a.default,IframeUpload:s.default},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:u},onChange:{type:Function,default:u},onPreview:{type:Function},onSuccess:{type:Function,default:u},onProgress:{type:Function,default:u},onError:{type:Function,default:u},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:u}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{fileList:{immediate:!0,handler:function(t){var e=this;this.uploadFiles=t.map(function(t){return t.uid=t.uid||Date.now()+e.tempIndex++,t.status=t.status||"success",t})}}},methods:{handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e={status:"ready",name:t.name,size:t.size,percentage:0,uid:t.uid,raw:t};try{e.url=URL.createObjectURL(t)}catch(t){return void console.error(t)}this.uploadFiles.push(e),this.onChange(e,this.uploadFiles)},handleProgress:function(t,e){var i=this.getFile(e);this.onProgress(t,i,this.uploadFiles),i.status="uploading",i.percentage=t.percent||0},handleSuccess:function(t,e){var i=this.getFile(e);i&&(i.status="success",i.response=t,this.onSuccess(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles))},handleError:function(t,e){var i=this.getFile(e),n=this.uploadFiles;i.status="fail",n.splice(n.indexOf(i),1),this.onError(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles)},handleRemove:function(t,e){var i=this;e&&(t=this.getFile(e));var n=function(){i.abort(t);var e=i.uploadFiles;e.splice(e.indexOf(t),1),i.onRemove(t,e)};if(this.beforeRemove){if("function"==typeof this.beforeRemove){var a=this.beforeRemove(t,this.uploadFiles);a&&a.then?a.then(function(){n()},u):!1!==a&&n()}}else n()},getFile:function(t){var e=void 0;return this.uploadFiles.every(function(i){return!(e=t.uid===i.uid?i:null)}),e},abort:function(t){this.$refs["upload-inner"].abort(t)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var t=this;this.uploadFiles.filter(function(t){return"ready"===t.status}).forEach(function(e){t.$refs["upload-inner"].upload(e.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},render:function(t){var e=void 0;this.showFileList&&(e=t(n.default,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[]));var i={props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},a=this.$slots.trigger||this.$slots.default,s="undefined"!=typeof FormData||this.$isServer?t("upload",i,[a]):t("iframeUpload",i,[a]);return t("div",null,["picture-card"===this.listType?e:"",this.$slots.trigger?[s,this.$slots.default]:s,this.$slots.tip,"picture-card"!==this.listType?e:""])}}},339:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(340),a=i.n(n),s=i(341),o=i(0)(a.a,s.a,!1,null,null,null);e.default=o.exports},340:function(t,e,i){"use strict";e.__esModule=!0;var n=s(i(5)),a=s(i(52));function s(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[n.default],data:function(){return{focusing:!1}},components:{ElProgress:a.default},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(t){return parseInt(t,10)},handleClick:function(t){this.handlePreview&&this.handlePreview(t)}}}},341:function(t,e,i){"use strict";var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition-group",{class:["el-upload-list","el-upload-list--"+t.listType,{"is-disabled":t.disabled}],attrs:{tag:"ul",name:"el-list"}},t._l(t.files,function(e,n){return i("li",{key:n,class:["el-upload-list__item","is-"+e.status,t.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(i){if(!("button"in i)&&t._k(i.keyCode,"delete",[8,46],i.key))return null;!t.disabled&&t.$emit("remove",e)},focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},["uploading"!==e.status&&["picture-card","picture"].indexOf(t.listType)>-1?i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.url,alt:""}}):t._e(),i("a",{staticClass:"el-upload-list__item-name",on:{click:function(i){t.handleClick(e)}}},[i("i",{staticClass:"el-icon-document"}),t._v(t._s(e.name)+"\n    ")]),i("label",{staticClass:"el-upload-list__item-status-label"},[i("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===t.listType,"el-icon-check":["picture-card","picture"].indexOf(t.listType)>-1}})]),t.disabled?t._e():i("i",{staticClass:"el-icon-close",on:{click:function(i){t.$emit("remove",e)}}}),t.disabled?t._e():i("i",{staticClass:"el-icon-close-tip"},[t._v(t._s(t.t("el.upload.deleteTip")))]),"uploading"===e.status?i("el-progress",{attrs:{type:"picture-card"===t.listType?"circle":"line","stroke-width":"picture-card"===t.listType?6:2,percentage:t.parsePercentage(e.percentage)}}):t._e(),"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-actions"},[t.handlePreview&&"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){t.handlePreview(e)}}},[i("i",{staticClass:"el-icon-zoom-in"})]):t._e(),t.disabled?t._e():i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(i){t.$emit("remove",e)}}},[i("i",{staticClass:"el-icon-delete"})])]):t._e()],1)}))},staticRenderFns:[]};e.a=n},342:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(343),a=i.n(n),s=i(0)(a.a,null,!1,null,null,null);e.default=s.exports},343:function(t,e,i){"use strict";e.__esModule=!0;var n=o(i(45)),a=o(i(344)),s=o(i(53));function o(t){return t&&t.__esModule?t:{default:t}}e.default={inject:["uploader"],components:{UploadDragger:s.default},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:a.default},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(t){return-1!==t.indexOf("image")},handleChange:function(t){var e=t.target.files;e&&this.uploadFiles(e)},uploadFiles:function(t){var e=this;if(this.limit&&this.fileList.length+t.length>this.limit)this.onExceed&&this.onExceed(t,this.fileList);else{var i=Array.prototype.slice.call(t);this.multiple||(i=i.slice(0,1)),0!==i.length&&i.forEach(function(t){e.onStart(t),e.autoUpload&&e.upload(t)})}},upload:function(t,e){var i=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(t);var n=this.beforeUpload(t);n&&n.then?n.then(function(e){var n=Object.prototype.toString.call(e);"[object File]"===n||"[object Blob]"===n?i.post(e):i.post(t)},function(){i.onRemove(null,t)}):!1!==n?this.post(t):this.onRemove(null,t)},abort:function(t){var e=this.reqs;if(t){var i=t;t.uid&&(i=t.uid),e[i]&&e[i].abort()}else Object.keys(e).forEach(function(t){e[t]&&e[t].abort(),delete e[t]})},post:function(t){var e=this,i=t.uid,n={headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(i){e.onProgress(i,t)},onSuccess:function(n){e.onSuccess(n,t),delete e.reqs[i]},onError:function(n){e.onError(n,t),delete e.reqs[i]}},a=this.httpRequest(n);this.reqs[i]=a,a&&a.then&&a.then(n.onSuccess,n.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(t){t.target===t.currentTarget&&(13!==t.keyCode&&32!==t.keyCode||this.handleClick())}},render:function(t){var e=this.handleClick,i=this.drag,a=this.name,s=this.handleChange,o=this.multiple,r=this.accept,l=this.listType,u=this.uploadFiles,c=this.disabled,h={class:{"el-upload":!0},on:{click:e,keydown:this.handleKeydown}};return h.class["el-upload--"+l]=!0,t("div",(0,n.default)([h,{attrs:{tabindex:"0"}}]),[i?t("upload-dragger",{attrs:{disabled:c},on:{file:u}},[this.$slots.default]):this.$slots.default,t("input",{class:"el-upload__input",attrs:{type:"file",name:a,multiple:o,accept:r},ref:"input",on:{change:s}},[])])}}},344:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){if("undefined"==typeof XMLHttpRequest)return;var e=new XMLHttpRequest,i=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(e){n.append(e,t.data[e])});n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(function(t,e,i){var n=void 0;n=i.response?""+(i.response.error||i.response):i.responseText?""+i.responseText:"fail to post "+t+" "+i.status;var a=new Error(n);return a.status=i.status,a.method="post",a.url=t,a}(i,0,e));t.onSuccess(function(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}(e))},e.open("post",i,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var a=t.headers||{};for(var s in a)a.hasOwnProperty(s)&&null!==a[s]&&e.setRequestHeader(s,a[s]);return e.send(n),e}},345:function(t,e,i){"use strict";e.__esModule=!0,e.default={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(t){if(!this.disabled&&this.uploader){var e=this.uploader.accept;this.dragover=!1,e?this.$emit("file",[].slice.call(t.dataTransfer.files).filter(function(t){var i=t.type,n=t.name,a=n.indexOf(".")>-1?"."+n.split(".").pop():"",s=i.replace(/\/.*$/,"");return e.split(",").map(function(t){return t.trim()}).filter(function(t){return t}).some(function(t){return/\..+$/.test(t)?a===t:/\/\*$/.test(t)?s===t.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(t)&&i===t})})):this.$emit("file",t.dataTransfer.files)}}}}},346:function(t,e,i){"use strict";var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":t.dragover},on:{drop:function(e){e.preventDefault(),t.onDrop(e)},dragover:function(e){e.preventDefault(),t.onDragover(e)},dragleave:function(e){e.preventDefault(),t.dragover=!1}}},[t._t("default")],2)},staticRenderFns:[]};e.a=n},347:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(348),a=i.n(n),s=i(0)(a.a,null,!1,null,null,null);e.default=s.exports},348:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i(53),s=(n=a)&&n.__esModule?n:{default:n};e.default={components:{UploadDragger:s.default},props:{type:String,data:{},action:{type:String,required:!0},name:{type:String,default:"file"},withCredentials:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},drag:Boolean,listType:String,disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,domain:"",file:null,submitting:!1}},methods:{isImage:function(t){return-1!==t.indexOf("image")},handleClick:function(){this.disabled||this.$refs.input.click()},handleChange:function(t){var e=t.target.value;e&&this.uploadFiles(e)},uploadFiles:function(t){if(this.limit&&this.$parent.uploadFiles.length+t.length>this.limit)this.onExceed&&this.onExceed(this.fileList);else if(!this.submitting){this.submitting=!0,this.file=t,this.onStart(t);var e=this.getFormNode(),i=this.getFormDataNode(),n=this.data;"function"==typeof n&&(n=n(t));var a=[];for(var s in n)n.hasOwnProperty(s)&&a.push('<input name="'+s+'" value="'+n[s]+'"/>');i.innerHTML=a.join(""),e.submit(),i.innerHTML=""}},getFormNode:function(){return this.$refs.form},getFormDataNode:function(){return this.$refs.data}},created:function(){this.frameName="frame-"+Date.now()},mounted:function(){var t=this;!this.$isServer&&window.addEventListener("message",function(e){if(t.file){var i=new URL(t.action).origin;if(e.origin===i){var n=e.data;"success"===n.result?t.onSuccess(n,t.file):"failed"===n.result&&t.onError(n,t.file),t.submitting=!1,t.file=null}}},!1)},render:function(t){var e=this.drag,i=this.uploadFiles,n=this.listType,a=this.frameName,s=this.disabled,o={"el-upload":!0};return o["el-upload--"+n]=!0,t("div",{class:o,on:{click:this.handleClick},nativeOn:{drop:this.onDrop,dragover:this.handleDragover,dragleave:this.handleDragleave}},[t("iframe",{on:{load:this.onload},ref:"iframe",attrs:{name:a}},[]),t("form",{ref:"form",attrs:{action:this.action,target:a,enctype:"multipart/form-data",method:"POST"}},[t("input",{class:"el-upload__input",attrs:{type:"file",name:"file",accept:this.accept},ref:"input",on:{change:this.handleChange}},[]),t("input",{attrs:{type:"hidden",name:"documentDomain",value:this.$isServer?"":document.domain}},[]),t("span",{ref:"data"},[])]),e?t("upload-dragger",{on:{file:i},attrs:{disabled:s}},[this.$slots.default]):this.$slots.default])}}},45:function(t,e){t.exports=i("nvbp")},5:function(t,e){t.exports=i("y+7x")},52:function(t,e){t.exports=i("GegP")},53:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(345),a=i.n(n),s=i(346),o=i(0)(a.a,s.a,!1,null,null,null);e.default=o.exports},8:function(t,e){t.exports=i("aW5l")}})},wxAW:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i("C4MV"),s=(n=a)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},"y+7x":function(t,e,i){"use strict";e.__esModule=!0;var n=i("urW8");e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.t.apply(this,e)}}}}});